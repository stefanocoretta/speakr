<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Run Praat in R â€¢ speakr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run Praat in R">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">speakr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.2.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/praat-lmt.html">Using the Literate Markdown Tangler Quarto Extension</a></li>
    <li><a class="dropdown-item" href="../articles/praat-plot.html">Plot with Praat</a></li>
    <li><a class="dropdown-item" href="../articles/run-praat.html">Run Praat in R</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stefanocoretta/speakr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Run Praat in R</h1>
                        <h4 data-toc-skip class="author">Stefano
Coretta</h4>
            
            <h4 data-toc-skip class="date">2025-03-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/stefanocoretta/speakr/blob/main/vignettes/run-praat.Rmd" class="external-link"><code>vignettes/run-praat.Rmd</code></a></small>
      <div class="d-none name"><code>run-praat.Rmd</code></div>
    </div>

    
    
<p>The package speakr allows the user to run a Praat script from within
R, optionally passing parameters to the script if a form is used. In
combination with rmarkdown::render(), it is possible to generate dynamic
reports which include phonetic analyses.</p>
<p>Load the package with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/stefanocoretta/speakr" class="external-link">speakr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="run-a-praat-script">Run a Praat script<a class="anchor" aria-label="anchor" href="#run-a-praat-script"></a>
</h2>
<p>To run a Praat script, use the function <code><a href="../reference/praat_run.html">praat_run()</a></code>. The
first argument of the function is the path to the script.</p>
<p>For example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">script</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"play-greetings.praat"</span>, package <span class="op">=</span> <span class="st">"speakr"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/praat_run.html">praat_run</a></span><span class="op">(</span><span class="va">script</span><span class="op">)</span></span></code></pre></div>
<p>If the script has side effects, like creating new files or editing
existing ones, these effects will take place.</p>
</div>
<div class="section level2">
<h2 id="file-output">File output<a class="anchor" aria-label="anchor" href="#file-output"></a>
</h2>
<p>If the script logs text (like a set of acoustic measurements) to a
file (with <code>writeFile[Line]</code> and
<code>appendFile[Line]</code>), the file is created in the directory
specified in the script, and nothing is returned in R. To load the
results file in R, just read it in as you would with any other
dataset.</p>
<p>The following runs a script that gets formant values and outputs a
file with the formant measurements in your home folder.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">script</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"get-formants.praat"</span>, package <span class="op">=</span> <span class="st">"speakr"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/praat_run.html">praat_run</a></span><span class="op">(</span><span class="va">script</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="praat-info-window-output">Praat Info window output<a class="anchor" aria-label="anchor" href="#praat-info-window-output"></a>
</h2>
<p>If, on the other hand, the script logs output to the Info window
(with <code>writeInfo[Line]</code> and <code>appendInfo[Line]</code>),
the output will be sent to the R console.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">script</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"get-formants-capt.praat"</span>, package <span class="op">=</span> <span class="st">"speakr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output to R console</span></span>
<span><span class="fu"><a href="../reference/praat_run.html">praat_run</a></span><span class="op">(</span><span class="va">script</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; vowel,F1,F2,F3 a,784.4671170665314,1390.927070235929,2433.2403445805335 e,417.00791908249613,2042.453249988405,2423.8583300060627 i,259.0985814360339,2231.740765785137,2819.218714861659 o,562.2955245317842,854.5311682738487,2463.26727657427 u,434.4420321283883,1331.362161871936,2815.9876831692327</span></span></code></pre>
<p>You can use <code>capture = TRUE</code> in <code><a href="../reference/praat_run.html">praat_run()</a></code>
to capture the output and pass it to an R variable. The output will be a
character string.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output to R variable</span></span>
<span><span class="va">formants</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/praat_run.html">praat_run</a></span><span class="op">(</span><span class="va">script</span>, capture <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">formants</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; vowel,F1,F2,F3 a,784.4671170665314,1390.927070235929,2433.2403445805335 e,417.00791908249613,2042.453249988405,2423.8583300060627 i,259.0985814360339,2231.740765785137,2819.218714861659 o,562.2955245317842,854.5311682738487,2463.26727657427 u,434.4420321283883,1331.362161871936,2815.9876831692327</span></span></code></pre>
<p>Of course, you can redirect the captured output using the pipe
<code>|&gt;</code>, for example to read the output as a tibble.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output to R tibble</span></span>
<span><span class="va">formants</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/praat_run.html">praat_run</a></span><span class="op">(</span><span class="va">script</span>, capture <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">formants</span><span class="op">)</span></span>
<span><span class="fu">glimpse</span><span class="op">(</span><span class="va">formants</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">5</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (1): vowel</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (3): F1, F2, F3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; [1] "spec_tbl_df" "tbl_df"      "tbl"         "data.frame"</span></span>
<span><span class="co">#&gt; Rows: 5</span></span>
<span><span class="co">#&gt; Columns: 4</span></span>
<span><span class="co">#&gt; $ vowel <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "a", "e", "i", "o", "u"</span></span>
<span><span class="co">#&gt; $ F1    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 784.4671, 417.0079, 259.0986, 562.2955, 434.4420</span></span>
<span><span class="co">#&gt; $ F2    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1390.9271, 2042.4532, 2231.7408, 854.5312, 1331.3622</span></span>
<span><span class="co">#&gt; $ F3    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2433.240, 2423.858, 2819.219, 2463.267, 2815.988</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="script-arguments-using-praat-forms">Script arguments using Praat forms<a class="anchor" aria-label="anchor" href="#script-arguments-using-praat-forms"></a>
</h2>
<p>It is possible to pass arguments to the script from R, using Praat
<code>form</code>s in the script. The following example runs the script
<code>get-formants-args.praat</code>, which requires two arguments: unit
(a string, either <code>"Hertz"</code> or <code>"Bark"</code>) and
window size (a number). Multiple arguments can be specified in
<code><a href="../reference/praat_run.html">praat_run()</a></code>, in the order in which they appear in the
<code>form</code>. These arguments will be passed to the
<code>form</code> in the script.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">script</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"get-formants-args.praat"</span>, package <span class="op">=</span> <span class="st">"speakr"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">unit</span> <span class="op">=</span> <span class="st">"Bark"</span></span>
<span><span class="va">window</span> <span class="op">=</span> <span class="fl">0.02</span></span>
<span></span>
<span><span class="va">f_bark</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/praat_run.html">praat_run</a></span><span class="op">(</span><span class="va">script</span>, <span class="va">unit</span>, <span class="va">window</span>, capture <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">f_bark</span>, <span class="st">"args"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="va">unit</span>, window <span class="op">=</span> <span class="va">window</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">5</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (1): vowel</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (3): F1, F2, F3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<p>Letâ€™s have a look at <code>f_bark</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f_bark</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 Ã— 4</span></span></span>
<span><span class="co">#&gt;   vowel    F1    F2    F3</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> a      7.16 10.5   14.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> e      4.24 13.0   14.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> i      2.72 13.6   15.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> o      5.46  7.61  14.3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> u      4.28  9.12  15.1</span></span></code></pre></div>
<p>And plot it.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f_bark</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">F2</span>, <span class="va">F1</span>, label <span class="op">=</span> <span class="va">vowel</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_label</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Vowel plot"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"F2 (Bark)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"F1 (Bark)"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_x_reverse</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"top"</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_y_reverse</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"right"</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="run-praat_files/figure-html/f-bark-plot-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stefano Coretta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
